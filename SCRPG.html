<div>
    <button type="action" name="act_description" >Description</button>
    <button type="action" name="act_abilities" >Abilities</button>
    <button type="action" name="act_auxiliary" >Forms / Modes</button>
    <button type="action" name="act_minions" >Minions</button>
    <div class="sheet-col" style="width: 5%;"> </div>
    <!-- Roll Macro -->
    <button type='roll' value='
        &{template:default} {{name=@{character_name}}} {{@{power_chosen} - @{power_value}=[[@{power_value}cs>13cf<0]]}} {{@{quality_chosen} - @{quality_value}=[[@{quality_value}cs>13cf<0]]}} {{@{status_chosen} - @{status_value}=[[@{status_value}cs>13cf<0]]}}
        ' name='roll_mid'>Roll Action Dice</button>
</div>
<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='description'  />

<div class='sheet-description'>
    <div class="logo-img" style="width: 30%; float: left;">
        <img src="https://i.imgur.com/x8tUivN.png">
    </div>
    <div class="sheet-col" style="width: 70%;">
        <div class="sheet-details" style="float: right; width: 70%; height: 70px; border-style: solid; border-width: 1%; background-color: #fde2c3;">
                <h2><b>Player</b></h2><input class="detail-input" type="text" name="attr_player_name" style="width: 95%;">
        </div>
    </div>
    <div class="sheet-col" style="width: 100%;">
        <div class="sheet-details" style="height: 70px; border-style: solid; border-width: 1%; background-color: #fde2c3;">
           <div class="sheet2rowcol">
                <div class="sheet-col" style="width: 49%;">
                    <h2><b>Hero Name</b></h2><input class="detail-input" type="text" name="attr_character_name" style="width: 95%;">
                </div>
                <div class="sheet-col" style="width: 49%; float: right;">
                    <h2><b>Alias</b></h2><input class="detail-input" type="text" name="attr_alias" style="width: 95%;">
                </div>
            </div>
        </div>
    </div>
    
    <!-- DETAILS -->
    <div class="sheet-details" style=" float: left; border-style: solid; border-width: 1%; background-color: #fde2c3;">
        <h2><b>Physical Attributes</b></h2>
        <b>Gender </b><input class="detail-input" type="text" name="attr_gender" style="width: 24%;"/>
        <b>Age </b><input  class="detail-input" type="text" name="attr_age" style="width: 34%;"/>
        <b>Height </b><input class="detail-input" type="text" name="attr_height" style="width: 24%;"/>
        <b>Eyes </b><input class="detail-input" type="text" name="attr_eyes" style="width: 24%;">
        <b>Hair </b><input class="detail-input" type="text" name="attr_hair" style="width: 31%;">
        <b>Skin </b><input class="detail-input" type="text" name="attr_skin" style="width: 30%;">
        <b>Build </b><input class="detail-input" type="text" name="attr_herobuild" style="width: 93%;">
        <b>Costume/Equipment</b>
        <textarea name="attr_costume" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
    </div>
    <div class="sheet-details" style=" float: left; height: 100px; border-style: solid; border-width: 1%; background-color: #fde2c3;">
        <h2><b>Characteristics</b></h2>
        <b>Background </b><input class="detail-input" type="text" name="attr_background" style="width: 38%;">
        <b>Power Source </b><input class="detail-input" type="text" name="attr_powersource" style="width: 38%;">
        <b>Archetype </b><input class="detail-input" type="text" name="attr_archetype" style="width: 39.5%;">
        <b>Personality </b><input class="detail-input" type="text" name="attr_personality" style="width: 40%;">
    </div>
    
<!-- PRINCIPLES (REPEATING) -->
    
    <div class="sheet-principles" style="border-style: solid; border-width: 1%;">
        <div class="sheet2rowcol">
            <div class="sheet-col" style="width: 49%;">
                <b>Principle of </b><input class="detail-input" type="text" name="attr_principle_name1" style="width: 50%;">
                <p style="text-align:center"><b>During Roleplaying</b></p>
                <textarea name="attr_principle_rp1" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
                <p style="text-align:center"><b>Minor Twist</b></p>
                <textarea name="attr_principle_minor1" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
                <p style="text-align:center"><b>Major Twist</b></p>
                <textarea name="attr_principle_major1" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
            </div>
            <div class="sheet-col" style="width: 49%;">
                <b>Principle of </b><input class="detail-input" type="text" name="attr_principle_name2" style="width: 50%;">
                <p style="text-align:center"><b>During Roleplaying</b></p>
                <textarea name="attr_principle_rp2" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
                <p style="text-align:center"><b>Minor Twist</b></p>
                <textarea name="attr_principle_minor2" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
                <p style="text-align:center"><b>Major Twist</b></p>
                <textarea name="attr_principle_major2" style="height: 81px; margin: 0px 0px 8.99148px; width: 96%; resize: none;"></textarea>
            </div>
        </div>
    </div>
    
<!-- HERO POINTS / ISSUES / COLLECTIONS (REPEATING) -->

    <div class="sheet-3colrow">
        <div class="sheet-col" style="width: width: 10%;">
            <div class="sheet-details" style="border-style: solid; border-width: 1%;">
                <h3><b>Hero Points this Issue:</b></h3>
                <div class="sheet-6colrow">
                    <div class="sheet-col" style="width: 1%;">
                        <b> </b>
                    </div>
                    <div class="sheet-col" style="width: 2%;">
                        <input type="checkbox" name="attr_1hp">
                    </div>
                    <div class="sheet-col" style="width: 2%;">
                        <input type="checkbox" name="attr_2hp">
                    </div>
                    <div class="sheet-col" style="width: 2%;">
                        <input type="checkbox" name="attr_3hp">
                    </div>
                    <div class="sheet-col" style="width: 2%;">
                        <input type="checkbox" name="attr_4hp">
                    </div>
                    <div class="sheet-col" style="width: 2%;">
                        <input type="checkbox" name="attr_5hp">
                    </div>
                </div>
            </div>
            <div class="sheet-details" style="border-style: solid; border-width: 1%;">
                <h3><b>Hero Points Rewards</b></h3>
                <b>+1 </b><input  class="detail-input" type="number" name="attr_plus1" style="width: 16%;"/>
                <b>+2 </b><input  class="detail-input" type="number" name="attr_plus2" style="width: 16%;"/>
                <b>+3 </b><input  class="detail-input" type="number" name="attr_plus3" style="width: 16%;"/>
                <b>+4 </b><input  class="detail-input" type="number" name="attr_plus4" style="width: 16%;"/>
            </div>
        </div> 
        <div class="sheet-col" style="width: width: 35%;">
            <div class="sheet-details" style="border-style: solid; border-width: 1%;">
                <h3><b>Back Issues </b></h3>
                <fieldset class="repeating_issues">
                    <input type="text" name="attr_issue">
                </fieldset>
                <em>6 Issues = 1 Collection</em>
            </div>
        </div>
        <div class="sheet-col" style="width: width: 35%;">
            <div class="sheet-details" style="border-style: solid; border-width: 1%;">
                <h3><b>Collections </b></h3>
                <fieldset class="repeating_collections">
                    <input type="checkbox" name="attr_collection-check">
                    <input type="text" name="attr_collection">
                </fieldset>
            </div>
        </div>
    </div>
</div>
<div class='sheet-abilities'>
<!-- POWERS / QUALITIES (REPEATING) / STATUS -->
    <div class="sheet-3colrow" style="border-style: solid; border-width: 1%;">
        <!-- Powers -->
            <div class="sheet-col" style="width: 33%;">
                <h3>Powers</h3>
                <fieldset class="repeating_powers">
                    <input type="text" name="attr_power" style="width: 60%; float: left;">
                    <select name="attr_powerdtype" style="width: 20%; float: left;">
                    <option value="d0" selected>-</option>
                    <option value="d4">d4</option>
                    <option value="d6">d6</option>
                    <option value="d8">d8</option>
                    <option value="d10">d10</option>
                    <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
                
                <div class="sheet-details" style="width: 80%; height: 30px; border-style: solid; border-width: 1%;">
                    <input type="text" name="attr_power_chosen" style="width: 75%; float: left;" value='Untrained Power'>
                    <input type="text" name="attr_power_value" style="width: 25%; float: left;" value='d4'>
                </div>
            </div>
        <!-- Qualities -->
            <div class="sheet-col" style="width: 33%;">
                <h3>Qualities</h3>
                <fieldset class="repeating_qualities">
                    <input type="text" name="attr_quality" style="width: 60%; float: left;">
                    <select name="attr_qualitydtype" style="width: 20%; float: left;">
                    <option value="d0" selected>-</option>
                    <option value="d4">d4</option>
                    <option value="d6">d6</option>
                    <option value="d8">d8</option>
                    <option value="d10">d10</option>
                    <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_qualitycheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
                
                <div class="sheet-details" style="width: 80%; height: 30px; border-style: solid; border-width: 1%;">
                    <input type="text" name="attr_quality_chosen" style="width: 75%; float: left;" value='Untrained Quality'>
                    <input type="text" name="attr_quality_value" style="width: 25%; float: left;" value='d4'>
                </div>
            </div>
        <!-- Status & Health-->
            <div class="sheet-col" style="width: 25%;">
                <span>
                    <div>
                    <table style="width: 100% ; margin: 0 auto ; text-align: center;">
                        <tbody>
                            <tr>
                                <td style="width: 10%"></td>
                                <td style="width: 25%"><h3>Status</h3></td>
                                <td style="width: 10%"></td>
                                <td style="width: 15%"><h3>&</h3></td>
                                <td style="width: 25%"><h3>Health</h3></td>
                            </tr>
                        <!-- Green Status -->
                            <tr style="background-color: #99ffbb">
                                <td style="width: 10%"></td>
                                <td style="width: 25%">Green</td>
                                <td style="width: 10%"></td>
                                <td style="width: 15%">Min</td>
                                <td style="width: 25%">Max</td>
                            </tr>
                            <tr style="background-color: #99ffbb">
                                <td>
                                    <input type="checkbox" name="attr_greencheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; margin-left: 5px;">
                                </td>
                                <td>
                                    <select name="attr_greendtype" class="sheet-dtype" style="width: 100%">
                                        <option value="d0">-</option>
                                        <option value="d6">d6</option>
                                        <option value="d8">d8</option>
                                        <option value="d10">d10</option>
                                        <option value="d12">d12</option>
                                    </select>
                                </td>
                                <td></td>
                                <td><span name="attr_greenmin"></span></td>
                                <td>
                                    <input type="number" name="attr_greenmax" class="sheet-green-max" value=17>
                                </td>
                            </tr>
                        <!-- Yellow Status -->
                            <tr style="background-color: #ffff99">
                                <td style="width: 10%"></td>
                                <td style="width: 25%">Yellow</td>
                                <td style="width: 10%"></td>
                                <td style="width: 15%">Min</td>
                                <td style="width: 25%">Max</td>
                            </tr>
                            <tr style="background-color: #ffff99">
                                <td>
                                    <input type="checkbox" name="attr_yellowcheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; margin-left: 5px;">
                                </td>
                                <td>
                                    <select name="attr_yellowdtype" class="sheet-dtype" style="width: 100%">                
                                        <option value="d0">-</option>
                                        <option value="d6">d6</option>
                                        <option value="d8">d8</option>
                                        <option value="d10">d10</option>
                                        <option value="d12">d12</option>
                                    </select>
                                </td>
                                <td></td>
                                <td><span name="attr_yellowmin"></span></td>
                                <td><span name="attr_yellowmax"></span></td>
                            </tr>
                        <!-- Red Status -->
                            <tr style="background-color: #ff5c33">
                                <td style="width: 10%"></td>
                                <td style="width: 25%">Red</td>
                                <td style="width: 10%"></td>
                                <td style="width: 15%">Min</td>
                                <td style="width: 25%">Max</td>
                            </tr>
                            <tr style="background-color: #ff5c33">
                                <td>
                                    <input type="checkbox" name="attr_redcheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; margin-left: 5px;">
                                </td>
                                <td>
                                    <select name="attr_reddtype" class="sheet-dtype" style="width: 100%">                
                                        <option value="d0">-</option>
                                        <option value="d6">d6</option>
                                        <option value="d8">d8</option>
                                        <option value="d10">d10</option>
                                        <option value="d12">d12</option>
                                    </select>
                                </td>
                                <td></td>
                                <td><span>1</span></td>
                                <td>
                                    <span name="attr_redmax"></span>
                                </td>
                            </tr>
                        <!-- Status Tracking -->
                            <tr style="background-color: #bfbfbf; height: 35px">
                                <td>
                                    <input type="checkbox" name="attr_outcheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; margin-left: 5px;">
                                </td>
                                <td>OUT</td>
                                <td></td>
                                <td>-</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </span>
                <div class="sheet-2colrow">
                    <div class="sheet-col" style="width: 50%; height: 30px; border-style: solid; border-width: 1%;">
                        <input type="text" name="attr_status_chosen" style="width: 45%; float: left;" value='Out'>
                        <input type="text" name="attr_status_value" style="width: 55%; float: left;" value='d0'>
                    </div>
                    <div class="sheet-col" style="width: 30%;">
                        <input type="number" name="attr_currenthp" class="sheet-current-hp" value=17>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<!-- ABILITIES (REPEATING) -->
    <div class="sheet-abilities" style="border-style: solid; border-width: 0.5%;">
        <h3>Abilities</h3>
        <!--Green Abilities -->
            <div class="sheet-green-abilities" style="background-color: #99ffbb;">
                <span style="background-color: #ffff99;">
                    <fieldset class="repeating_greenabilities" style="background-color: #99ffbb;">
                        <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_atk-action">
                        <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_dfn-action">
                        <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_ovc-action">
                        <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_bst-action">
                        <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_hin-action">
                        <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_rec-action">
                        <b>Name</b>
                        <input type="text" name="attr_abilityname">
                        <b>Type</b>
                        <select name="attr_abilitytype">
                            <option>Action</option>
                            <option>Inherent</option>
                            <option>Reaction</option>
                        </select>
                        <textarea name="attr_greenabilitydesc" style="width: 95%; height: 31px;"></textarea>
                    </fieldset>
                </span>
            </div>
        <!-- Yellow Abilities -->
            <div class="sheet-yellow-abilities" style="background-color: #ffff99;">
                <span style="background-color: #ffff99;">
                    <fieldset class="repeating_yellowabilities" style="background-color: #ffff99;">
                        <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_atk-action">
                        <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_dfn-action">
                        <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_ovc-action">
                        <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_bst-action">
                        <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_hin-action">
                        <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_rec-action">
                        <b>Name</b>
                        <input type="text" name="attr_abilityname">
                        <b>Type</b>
                        <select name="attr_abilitytype">
                            <option>Action</option>
                            <option>Inherent</option>
                            <option>Reaction</option>
                        </select>
                        <textarea name="attr_yellowabilitydesc" style="width: 95%; height: 31px;"></textarea>
                    </fieldset>
                </span>
            </div>
        <!-- Red Abilities -->
            <div class="sheet-red-abilities" style="background-color: #ff5c33;">
                <span style="background-color: #ff5c33;">
                    <fieldset class="repeating_redabilities" style="background-color: #ff5c33;">
                        <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_atk-action">
                        <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_dfn-action">
                        <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_ovc-action">
                        <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_bst-action">
                        <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_hin-action">
                        <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                        <input type="checkbox" name="attr_rec-action">
                        <b>Name</b>
                        <input type="text" name="attr_abilityname">
                        <b>Type</b>
                        <select name="attr_abilitytype">
                            <option>Action</option>
                            <option>Inherent</option>
                            <option>Reaction</option>
                        </select>
                        <textarea name="attr_redabilitydesc" style="width: 95%; height: 31px;"></textarea>
                    </fieldset>
                </span>
            </div>
        <!-- Out Ability -->
            <div class="sheet-out-abilities" style="background-color: #bfbfbf; padding: 2px;">
                <b>Out Ability</b>
                <input type="text" name="attr_outability" style="padding: 2px; width: 80%;">    
            </div>
    </div>
</div>
<div class='sheet-aux'>
    <!-- MODES / FORMS -->
    <div class="sheet-col" style="width: 5%;"></div>
    <div class="sheet-col" style="width: 33%;">
        <div class="sheet-details" style="width: 80%; height: 30px; border-style: solid; border-width: 1%;">
            <input type="text" name="attr_power_chosen" style="width: 75%; float: left;" value='Untrained Power'>
            <input type="text" name="attr_power_value" style="width: 25%; float: left;" value='d4'>
        </div>
    </div>
    <div class="sheet-col" style="width: 33%;">
        <div class="sheet-details" style="width: 80%; height: 30px; border-style: solid; border-width: 1%;">
            <input type="text" name="attr_quality_chosen" style="width: 75%; float: left;" value='Untrained Quality'>
            <input type="text" name="attr_quality_value" style="width: 25%; float: left;" value='d4'>
        </div>
    </div>
    <div class="sheet-col" style="width: 25%;">
        <div class="sheet-col" style="width: 50%; height: 30px; border-style: solid; border-width: 1%;">
            <input type="text" name="attr_status_chosen" style="width: 45%; float: left;" value='Out'>
            <input type="text" name="attr_status_value" style="width: 55%; float: left;" value='d0'>
        </div>
    </div>
    <div class="sheet-col" style="border-style: solid; border-width: 1%; background-color: #99ffbb; width: 60%;">
        <b>Name</b>
        <input type="text" name="attr_g1name">
        <div class="sheet-2colrow">
            <div class="sheet-col" style="width: 50%;">
                <h3>Powers</h3>
                <fieldset class="repeating_g1powers">
                    <input type="text" name="attr_g1power" style="width: 65%; float: left;">
                    <select name="attr_g1powerdtype" style="width: 22%; float: left;">
                        <option value="d0" selected>-</option>
                        <option value="d4">d4</option>
                        <option value="d6">d6</option>
                        <option value="d8">d8</option>
                        <option value="d10">d10</option>
                        <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_g1powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
            </div>
            <div class="sheet-col" style="width: 35%;">
                <h3>Description</h3>
                <textarea name="attr_g1desription" style="width: 99%; height: 78px;"></textarea>
                <p>Default Form/Mode.<br>All actions are normal.</p>
            </div>
        </div>
    </div>
    <div class="sheet-col" style="width: 37%;">
        <h3>Notes</h3>
        <textarea name="attr_auxnotes" style="width: 98%; height: 150px;"></textarea>
    </div>
    <div class="eachform" style="border-style: solid; border-width: 1%; background-color: #99ffbb;">
        <b>Name</b>
        <input type="text" name="attr_g2name">
        <div class="sheet-2colrow">
            <div class="sheet-col" style="width: 30%;">
                <h3>Powers</h3>
                <fieldset class="repeating_g2powers">
                    <input type="text" name="attr_g2power" style="width: 65%; float: left;">
                    <select name="attr_g2powerdtype" style="width: 22%; float: left;">
                        <option value="d0" selected>-</option>
                        <option value="d4">d4</option>
                        <option value="d6">d6</option>
                        <option value="d8">d8</option>
                        <option value="d10">d10</option>
                        <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_g2powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
            </div>
            <div class="sheet-col" style="width: 65%;">
                <h3>Description</h3>
                <textarea name="attr_g2desription" style="width: 98%; height: 41px;"></textarea>
                <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g2atk-action">
                <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g2dfn-action">
                <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g2ovc-action">
                <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g2bst-action">
                <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g2hin-action">
                <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g2rec-action">
                <input type="text" name="attr_g2abilityname" style="width: 41%;">
                <select name="attr_g2abilitytype" style="width: 8%;">
                    <option>A</option>
                    <option>I</option>
                    <option>R</option>
                </select>
                <textarea name="attr_g2abilitydesc" style="width: 98%; height: 31px;"></textarea>
            </div>
        </div>
    </div>
    <div class="eachform" style="border-style: solid; border-width: 1%; background-color: #99ffbb;">
        <b>Name</b>
        <input type="text" name="attr_g3name">
        <div class="sheet-2colrow">
            <div class="sheet-col" style="width: 30%;">
                <h3>Powers</h3>
                <fieldset class="repeating_g3powers">
                    <input type="text" name="attr_g3power" style="width: 65%; float: left;">
                    <select name="attr_g3powerdtype" style="width: 22%; float: left;">
                        <option value="d0" selected>-</option>
                        <option value="d4">d4</option>
                        <option value="d6">d6</option>
                        <option value="d8">d8</option>
                        <option value="d10">d10</option>
                        <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_g3powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
            </div>
            <div class="sheet-col" style="width: 65%;">
                <h3>Description</h3>
                <textarea name="attr_g3desription" style="width: 98%; height: 41px;"></textarea>
                <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g3atk-action">
                <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g3dfn-action">
                <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g3ovc-action">
                <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g3bst-action">
                <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g3hin-action">
                <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_g3rec-action">
                <input type="text" name="attr_g3abilityname" style="width: 41%;">
                <select name="attr_g3abilitytype" style="width: 8%;">
                    <option>A</option>
                    <option>I</option>
                    <option>R</option>
                </select>
                <textarea name="attr_g3abilitydesc" style="width: 98%; height: 31px;"></textarea>
            </div>
        </div>
    </div>
    <div class="eachform" style="border-style: solid; border-width: 1%; background-color: #ffff99;">
        <b>Name</b>
        <input type="text" name="attr_y1name">
        <div class="sheet-2colrow">
            <div class="sheet-col" style="width: 30%;">
                <h3>Powers</h3>
                <fieldset class="repeating_y1powers">
                    <input type="text" name="attr_y1power" style="width: 65%; float: left;">
                    <select name="attr_y1powerdtype" style="width: 22%; float: left;">
                        <option value="d0" selected>-</option>
                        <option value="d4">d4</option>
                        <option value="d6">d6</option>
                        <option value="d8">d8</option>
                        <option value="d10">d10</option>
                        <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_y1powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
            </div>
            <div class="sheet-col" style="width: 65%;">
                <h3>Description</h3>
                <textarea name="attr_y1desription" style="width: 98%; height: 41px;"></textarea>
                <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y1atk-action">
                <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y1dfn-action">
                <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y1ovc-action">
                <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y1bst-action">
                <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y1hin-action">
                <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y1rec-action">
                <input type="text" name="attr_y1abilityname" style="width: 41%;">
                <select name="attr_y1abilitytype" style="width: 8%;">
                    <option>A</option>
                    <option>I</option>
                    <option>R</option>
                </select>
                <textarea name="attr_y1abilitydesc" style="width: 98%; height: 31px;"></textarea>
            </div>
        </div>
    </div>
    <div class="eachform" style="border-style: solid; border-width: 1%; background-color: #ffff99;">
        <b>Name</b>
        <input type="text" name="attr_y2name">
        <div class="sheet-2colrow">
            <div class="sheet-col" style="width: 30%;">
                <h3>Powers</h3>
                <fieldset class="repeating_y2powers">
                    <input type="text" name="attr_y2power" style="width: 65%; float: left;">
                    <select name="attr_y2powerdtype" style="width: 22%; float: left;">
                        <option value="d0" selected>-</option>
                        <option value="d4">d4</option>
                        <option value="d6">d6</option>
                        <option value="d8">d8</option>
                        <option value="d10">d10</option>
                        <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_y2powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
            </div>
            <div class="sheet-col" style="width: 65%;">
                <h3>Description</h3>
                <textarea name="attr_y2desription" style="width: 98%; height: 41px;"></textarea>
                <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y2atk-action">
                <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y2dfn-action">
                <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y2ovc-action">
                <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y2bst-action">
                <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y2hin-action">
                <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_y2rec-action">
                <input type="text" name="attr_y2abilityname" style="width: 41%;">
                <select name="attr_y2abilitytype" style="width: 8%;">
                    <option>A</option>
                    <option>I</option>
                    <option>R</option>
                </select>
                <textarea name="attr_y2abilitydesc" style="width: 98%; height: 31px;"></textarea>
            </div>
        </div>
    </div>
    <div class="eachform" style="border-style: solid; border-width: 1%; background-color: #ff5c33;">
        <b>Name</b>
        <input type="text" name="attr_r1name">
        <div class="sheet-2colrow">
            <div class="sheet-col" style="width: 30%;">
                <h3>Powers</h3>
                <fieldset class="repeating_r1powers">
                    <input type="text" name="attr_r1power" style="width: 65%; float: left;">
                    <select name="attr_r1powerdtype" style="width: 22%; float: left;">
                        <option value="d0" selected>-</option>
                        <option value="d4">d4</option>
                        <option value="d6">d6</option>
                        <option value="d8">d8</option>
                        <option value="d10">d10</option>
                        <option value="d12">d12</option>
                    </select>
                    <input type="checkbox" name="attr_r1powercheck" value="1" style="width: 25px; height: 25px; margin: 0 auto; float: left; margin-left: 5px;">
                </fieldset>
            </div>
            <div class="sheet-col" style="width: 65%;">
                <h3>Description</h3>
                <textarea name="attr_r1desription" style="width: 98%; height: 41px;"></textarea>
                <img src="https://i.imgur.com/VdI1nGL.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_r1atk-action">
                <img src="https://i.imgur.com/P74NrWI.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_r1dfn-action">
                <img src="https://i.imgur.com/5Rc36P9.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_r1ovc-action">
                <img src="https://i.imgur.com/S2zULo6.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_r1bst-action">
                <img src="https://i.imgur.com/sgmZ0g5.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_r1hin-action">
                <img src="https://i.imgur.com/714YUtO.png" style="height: 25px; width: 25px;">
                <input type="checkbox" name="attr_r1rec-action">
                <input type="text" name="attr_r1abilityname" style="width: 41%;">
                <select name="attr_r1abilitytype" style="width: 8%;">
                    <option>A</option>
                    <option>I</option>
                    <option>R</option>
                </select>
                <textarea name="attr_r1abilitydesc" style="width: 98%; height: 31px;"></textarea>
            </div>
        </div>
    </div>
</div>
<div class='sheet-minions'>
    <!-- MINIONS -->
    <div class="sheet-col" style="width: 40%;">
        <input type="text" name="attr_miniontype" style ="width: 75%;" value='Your Minions'>
        <span>
            <div>
            <table style="width: 100% ; margin: 0 auto ; border-style: solid; border-width: 1%;">
                <tbody>
                    <tr style="background-color: #9c95d3">
                        <td style="width: 25%">KEY VALUE</td>
                        <td style="width: 25%">DIE TYPE</td>
                        <td style="width: 50%">EXAMPLE FORMS</td>
                    </tr>
                    <tr>
                        <td>0 or Less</td>
                        <td>d4 minion</td>
                        <td>tiny/featureless</td>
                    </tr>
                    <tr>
                        <td>1-3</td>
                        <td>d6 minion</td>
                        <td>small/limited detail</td>
                    </tr>
                    <tr>
                        <td>4-7</td>
                        <td>d8 minion</td>
                        <td>house pet sized/detailed</td>
                    </tr>
                    <tr>
                        <td>8-12</td>
                        <td>d10 minion</td>
                        <td>humanoid sized/intracate</td>
                    </tr>
                    <tr>
                        <td>12+</td>
                        <td>d12 minion</td>
                        <td>large/paragon</td>
                    </tr>
                </tbody>
            </table>
            </div>
        </span>
    </div>
    <div class="sheet-col" style="width: 57%;">
        <h3>Notes</h3>
        <textarea name="attr_minionnotes" style="width: 98%; height: 150px;"></textarea>
    </div>
    <input type="text" name="attr_minionform" style ="width: 30%;" value='Minion Forms'>
    <div class="sheet-minionforms" style="border-style: solid; border-width: 0.5%;">
        <table style="width: 100% ; margin: 0 auto ;">
            <tbody>
                <tr style="background-color: #9c95d3">
                    <td style="width: 15%">NAME</td>
                    <td style="width: 65%">DESCRIPTION</td>
                    <td style="width: 15%">BONUS</td>
                </tr>
            </tbody>
        </table>
        <fieldset class="repeating_minionforms; sheet-3colrow">
            <input type="text" name="attr_mformname" style ="width: 15%;">
            <input name="attr_mformdesription" style="width: 69%;"></textarea>
            <select name="attr_mformbonus" style ="width: 15%;">
                <option>+1 or higher</option>
                <option>+2 or higher</option>
                <option>+3 or higher</option>
                <option>+4 or higher</option>
            </select>
        </fieldset>
    </div>
</div>
<div class='sheet-villain'>
    <!-- VILLAIN -->
    <h2>Villain</h2>
    <span>Villain goes here</span>
</div>

<script type="text/worker">
    const buttonlist = ["description","abilities","auxiliary","minions","villain"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_powers:powercheck", function(eventInfo) {
   getAttrs(["repeating_powers_power","repeating_powers_powerdtype","repeating_powers_powercheck"],function(v) {
       let check = parseInt(v.repeating_powers_powercheck)||0;
        if(check === 1) {
            let power = v.repeating_powers_power;
            let value = v.repeating_powers_powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_powers_powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_g1powers:g1powercheck", function(eventInfo) {
   getAttrs(["repeating_g1powers_g1power","repeating_g1powers_g1powerdtype","repeating_g1powers_g1powercheck"],function(v) {
       let check = parseInt(v.repeating_g1powers_g1powercheck)||0;
        if(check === 1) {
            let power = v.repeating_g1powers_g1power;
            let value = v.repeating_g1powers_g1powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_g1powers_g1powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_g2powers:g2powercheck", function(eventInfo) {
   getAttrs(["repeating_g2powers_g2power","repeating_g2powers_g2powerdtype","repeating_g2powers_g2powercheck"],function(v) {
       let check = parseInt(v.repeating_g2powers_g2powercheck)||0;
        if(check === 1) {
            let power = v.repeating_g2powers_g2power;
            let value = v.repeating_g2powers_g2powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_g2powers_g2powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_g3powers:g3powercheck", function(eventInfo) {
   getAttrs(["repeating_g3powers_g3power","repeating_g3powers_g3powerdtype","repeating_g3powers_g3powercheck"],function(v) {
       let check = parseInt(v.repeating_g3powers_g3powercheck)||0;
        if(check === 1) {
            let power = v.repeating_g3powers_g3power;
            let value = v.repeating_g3powers_g3powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_g3powers_g3powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_y1powers:y1powercheck", function(eventInfo) {
   getAttrs(["repeating_y1powers_y1power","repeating_y1powers_y1powerdtype","repeating_y1powers_y1powercheck"],function(v) {
       let check = parseInt(v.repeating_y1powers_y1powercheck)||0;
        if(check === 1) {
            let power = v.repeating_y1powers_y1power;
            let value = v.repeating_y1powers_y1powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_y1powers_y1powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_y2powers:y2powercheck", function(eventInfo) {
   getAttrs(["repeating_y2powers_y2power","repeating_y2powers_y2powerdtype","repeating_y2powers_y2powercheck"],function(v) {
       let check = parseInt(v.repeating_y2powers_y2powercheck)||0;
        if(check === 1) {
            let power = v.repeating_y2powers_y2power;
            let value = v.repeating_y2powers_y2powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_y2powers_y2powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING POWER VALUES from REPEATING SECTIONS
on("change:repeating_r1powers:r1powercheck", function(eventInfo) {
   getAttrs(["repeating_r1powers_r1power","repeating_r1powers_r1powerdtype","repeating_r1powers_r1powercheck"],function(v) {
       let check = parseInt(v.repeating_r1powers_r1powercheck)||0;
        if(check === 1) {
            let power = v.repeating_r1powers_r1power;
            let value = v.repeating_r1powers_r1powerdtype;
            setAttrs({
                "power_chosen": power,
                "power_value": value,
      		    "repeating_r1powers_r1powercheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING QUALITY VALUES from REPEATING SECTIONS
on("change:repeating_qualities:qualitycheck", function(eventInfo) {
   getAttrs(["repeating_qualities_quality","repeating_qualities_qualitydtype","repeating_qualities_qualitycheck"],function(v) {
       let check = parseInt(v.repeating_qualities_qualitycheck)||0;
        if(check === 1) {
            let quality = v.repeating_qualities_quality;
            let value = v.repeating_qualities_qualitydtype;
            setAttrs({
                "quality_chosen": quality,
                "quality_value": value,
      		    "repeating_qualities_qualitycheck":0
	        });     
        }
   });
});

//CODE FOR SETTING/GETTING STATUS VALUES
on("change:greencheck", function(eventInfo) {
   getAttrs(["greendtype","greencheck"],function(v) {
       let check = parseInt(v.greencheck)||0;
        if(check === 1) {
            let value = v.greendtype;
            setAttrs({
                "status_chosen": "Green",
                "status_value": value,
      		    "greencheck":0
	        });     
        }
   });
});
on("change:yellowcheck", function(eventInfo) {
   getAttrs(["yellowdtype","yellowcheck"],function(v) {
       let check = parseInt(v.yellowcheck)||0;
        if(check === 1) {
            let value = v.yellowdtype;
            setAttrs({
                "status_chosen": "Yellow",
                "status_value": value,
      		    "yellowcheck":0
	        });     
        }
   });
});
on("change:redcheck", function(eventInfo) {
   getAttrs(["reddtype","redcheck"],function(v) {
       let check = parseInt(v.redcheck)||0;
        if(check === 1) {
            let value = v.reddtype;
            setAttrs({
                "status_chosen": "Red",
                "status_value": value,
      		    "redcheck":0
	        });     
        }
   });
});
on("change:outcheck", function(eventInfo) {
   getAttrs(["outcheck"],function(v) {
       let check = parseInt(v.outcheck)||0;
        if(check === 1) {
            setAttrs({
                "status_chosen": "Out",
                "status_value": "d0",
      		    "outcheck":0
	        });     
        }
   });
});

// CODE FOR HEALTH RANGES from TOTAL HP
on('change:greenmax sheet:opened', function() {
    getAttrs(['greenmax'], function(values) {
        var indexg = parseInt(values.greenmax);
        var indexy = Math.round((indexg+2)*0.7);
        var indexr = Math.round((indexg+2)/3);
        if (indexg === 37) {
            var indexy = 28;
        } else if (indexg === 19) {
            var indexy = 14;
        }
        setAttrs({ 'greenmin': indexy+1 });
        setAttrs({ 'yellowmax': indexy });
        setAttrs({ 'yellowmin': indexr+1 });
        setAttrs({ 'redmax': indexr });
    });
});


</script>
